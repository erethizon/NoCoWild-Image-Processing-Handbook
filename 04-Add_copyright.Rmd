# Add copyright and read EXIF data from images to .csv via exifTool


## ExifTool

Now that we have a folder of images we are ready to work with, we need
to use a program called ExifTool to add copyright information to the
Exif data for each image and then export the common EXIF data from all
of the images to a .csv file. Doing so will require use of the Mac
"terminal", the command-line interface for MacOS (Box 1, Figure 10).

[]{#_Ref71037347 .anchor}Box 1. Notes on the Mac Terminal Interface.

![](media/image15.png){width="3.5076388888888888in"
height="2.1840277777777777in"}The Mac terminal interface allows you to
easily access the directory structure on your computer and batch process
(do a process to multiple files at once) a number of tasks, saving time.
There are also some software programs that lack a GUI (graphical user
interface, the familiar menu-driven interface on most computers) that
must be controlled from the command line. Some of the basic commands are
described in Table 1.

  -----------------------------------------------------------------------
  Command        Purpose
  -------------- --------------------------------------------------------
  cd directory   changes path from working directory to named directory
                 where \"directory\" is the name of the directory you
                 wish to navigate to.

  cd ..          changes your directory from the parent directory to the
                 one you are currently in (note the space before the ..)

  ls             lists all visible files in your directory

  pwd            lists path of your current directory ("print working
                 directory")

  . vs ..        "." Specifies the directory you are currently in,
                 whereas ".." specifies the parent directory
  -----------------------------------------------------------------------

  : []{#_Toc71110057 .anchor}Table . Basic command-line commands that
  can be sent via the terminal window.

## 

## 

## Step 1. Finding your way around the mac terminal (command line interface)

To access the terminal, go to the magnifying glass in the upper right of
your window and search for "Terminal". Alternatively, search for
"Terminal" from the launchpad. You will see a result like Figure 12:

![](media/image16.png){width="3.959449912510936in"
height="1.792328302712161in"}

[]{#_Ref71037431 .anchor}Figure 12. Result of search for \"Terminal\".
Click on the icon to open it.

The terminal window presents a way to move around directories (folders)
on your computer, run software, and execute other commands without using
the "graphical user interface", or "GUI" that you are most familiar with
(the Menu-driven system where you click with your mouse to make things
happen). There are several different ways in which we must use the
terminal for image processing.

### Note about directory names

The command-line has trouble understanding folder names if there is a
space in the folder name. For example, if I have a folder called "Card
4", I specify it by writing Card\\ 4

The \\ tells the computer that the name is continuing. The space
followed by the 4 tells it that these are the remaining parts of the
directory name.

![](media/image6.png){width="0.24605096237970253in"
height="0.22in"}Avoid problems with the terminal by using \_ or not
otherwise including spaces in filenames.

Also, this guide is written assuming you are using the iMac in the
Barthelmess research lab. If you are trying to use these commands on
another mac, there may be slight differences. If you are trying to use
these commands on a PC, you will find that the PC operating system uses
different characters to indicate a file path. Thus, this code will get
you on the right path on a PC, but will not be sufficient as is.

![](media/image17.png){width="0.33in" height="0.33in"}A neat trick for
changing the directory folder path is to drop the folder icon (not from
the terminal) onto the \$ prompt inside of the terminal. The terminal
will then indicate the full path to that directory. Try this:

cd \[drop folder with files here after you type cd\]

Terminal will change the working directory to the correct file path!

## Step 2. Running ExifTool via the terminal.

### 

### What are exif data?

Any time an image is made with a digital camera, regardless of make,
data are embedded in the image file. You never see these data unless you
look for them. Programs such as Adobe Lightroom can be used to view the
exif data. How much exif data is collected depends on the camera and its
features. For example, a camera with built in gps will encode the
location where the photo was taken.

We will need exif data to be able to assign images to proper events
based on their time stamp. We will also add exif data to our images by
adding copyright information.

### Running ExifTool

Running ExifTool is fairly straightforward, as long as you don't get too
bogged down in command-line commands, which can be confusing. To start
ExifTool, type "exiftool" after the prompt on the command line. If the
computer tells you that ExifTool does not exist, see Appendix 1.
Additional Details and code snippets, for instructions on how to install
ExifTool.

-   If ExifTool is installed, the manual (called the "man" or "manpage"
    in command line talk) window will open orienting you to features of
    the program. To get out of that window and back to the command-line,
    type "Q".

-   Scroll through manpage using scroll bar

-   Exit the man by typing q and return.

## Step 3. Viewing exif data on a single image

In the terminal, change to the directory that contains the files you
want information from. Note the name of an image in the directory.

Then, in the terminal at the command-line prompt (usually a \$ or \>),
type

exiftool imagename.jpg

where imagename.jpg is the name of the file you want data from. The
computer will then display the information you seek. An example of
output is in Figure 12 below.

![](media/image18.png){width="5.214633639545057in"
height="2.5243055555555554in"}

[]{#_Ref71037481 .anchor}Figure 13. Example output from viewing exif
data from a single image with exiftool.

You will use this method to ensure that copyright information is
properly added.

## Step 4. Using ExifTool to add copyright information to the images.

To add copyright information to the images, make sure you are in the
folder that contains the images you wish to add copyright information,
and type the following at the command-line:

> \$ exiftool --overwrite_original -rights="Copyright"
>
> -CopyrightNotice="Bart Lab and Nature Up North" \*.JPG
>
> (put this all on one line)

This basically says to the computer: "Open exiftool, and overwrite new
information into the original metadata. Add a field called 'Copyright'
and fill the field with "Bart Lab and Nature Up North". Do this for all
of the files in the folder."

Once you have run this code, examine the exif data for a few of the
images in the folder using the method described in Step 3 above and make
sure the copyright information is present.

# Use imagemagick to resize images to 900kb

The Zooniverse sets a maximum image size of 1MB. Our cameras take higher
resolution pictures, generally in the realm of 3.5MB. Thus, we would
like to batch resize the photos for upload to the Zooniverse. To do so,
we use another command-line software called ImageMagick.

We have installed ImageMagick on the iMac in the lab. However, if you
wish to install it on your own mac, see Appendix 1. Additional Details
and code snippets, for instructions on how to install "Homebrew", a
package manager for the Mac, and then use Homebrew to install
imagemagick.

## Resizing images

With imagemagick installed, move to the directory with the set of images
you wish to resize and type the following line of code in the terminal:

\$magick mogrify -resize "2000>" --define jpeg:extent=900kb \*.JPG

Note that the .JPG is case-sensitive. If the images are labeled .jpg,
then type that instead.

This line of code basically says "Turn on imagemagick and use it to
resize photos. Their maximum width or height (whichever is larger) will
be 2000 pixels. Next define their final size as 900kb. Do this for all
of the images (the \*.JPG where \* is a wildcard) in the folder.

Note: Resizing takes a long time. For example, to run about 4000 photos
took 1hr and 10 minutes.
